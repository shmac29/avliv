<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Livros Avaliados</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f8f9fa; }
        .card { min-height: 200px; }
    </style>
</head>
<body>
<div class="container mt-4">
    <h1 class="mb-4">Livros Avaliados</h1>
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title">Adicionar Novo Livro</h5>
            <form id="bookForm">
                <div class="row g-2">
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="title" placeholder="Título" required>
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="author" placeholder="Autor" required>
                    </div>
                    <div class="col-md-2">
                        <select class="form-select" id="rating" required>
                            <option value="">Nota</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="comment" placeholder="Comentário" required>
                    </div>
                    <div class="col-md-1 d-grid">
                        <button type="submit" class="btn btn-success">Salvar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div id="booksList" class="row"></div>
</div>
<script>
// Função para buscar livros do localStorage
function getBooks() {
    return JSON.parse(localStorage.getItem('books') || '[]');
}
// Função para salvar livros no localStorage
function saveBooks(books) {
    localStorage.setItem('books', JSON.stringify(books));
}
// Função para renderizar a lista de livros
function renderBooks() {
    const books = getBooks();
    const booksList = document.getElementById('booksList');
    booksList.innerHTML = '';
    if (books.length === 0) {
        booksList.innerHTML = '<p class="text-center">Nenhum livro avaliado ainda.</p>';
        return;
    }
    books.forEach((book, idx) => {
        const col = document.createElement('div');
        col.className = 'col-md-4';
        col.innerHTML = `
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">${book.title}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">${book.author}</h6>
                    <p class="card-text">Nota: ${book.rating}/5</p>
                    <p class="card-text"><em>${book.comment}</em></p>
                    <button class="btn btn-sm btn-danger" onclick="deleteBook(${idx})">Excluir</button>
                </div>
            </div>
        `;
        booksList.appendChild(col);
    });
}
// Função para adicionar livro
function addBook(e) {
    e.preventDefault();
    const title = document.getElementById('title').value.trim();
    const author = document.getElementById('author').value.trim();
    const rating = document.getElementById('rating').value;
    const comment = document.getElementById('comment').value.trim();
    if (!title || !author || !rating || !comment) return;
    const books = getBooks();
    books.push({ title, author, rating, comment });
    saveBooks(books);
    renderBooks();
    document.getElementById('bookForm').reset();
}
// Função para excluir livro
function deleteBook(idx) {
    const books = getBooks();
    books.splice(idx, 1);
    saveBooks(books);
    renderBooks();
}
document.getElementById('bookForm').addEventListener('submit', addBook);
window.onload = renderBooks;
</script>
</body>
</html> 